location = "C:\\Users\\serka\\Downloads\\bilgisayar mühendisliği\\Playing Tennis.txt"

import pandas as pd
from sklearn import preprocessing
from sklearn.linear_model import LinearRegression
from sklearn.model_selection import train_test_split

le = preprocessing.LabelEncoder()
ohe = preprocessing.OneHotEncoder()
lr = LinearRegression()

datas = pd.read_csv(location)

outlook = datas.iloc[:,0:1].values
outlook[:,0] = le.fit_transform(datas.iloc[:,0])
outlook = ohe.fit_transform(outlook).toarray()

windy = datas.iloc[:,3:4].values
windy[:,0] = le.fit_transform(datas.iloc[:,3:4])
windy = ohe.fit_transform(windy).toarray()

temperature_humidity = datas.iloc[:,1:3].values

play = datas.iloc[:,-1:].values
play[:,-1] = le.fit_transform(datas.iloc[:,-1])

result = pd.DataFrame(data = outlook, index = range(14), columns = ["overcast",  "rainy", "sunny",])
result2 = pd.DataFrame(data = temperature_humidity, index = range(14), columns = ["temperature", "humidity"])
result3 = pd.DataFrame(data = windy[:,0:1], index = range(14), columns = ["No windy"])
result4 = pd.concat([result, result2], axis = 1)
result5 = pd.concat([result4, result3], axis = 1)

x_train, x_test, y_train, y_test = train_test_split(result5, play, test_size = 0.33, random_state = 0)
lr.fit(x_train, y_train)
y_pred = lr.predict(x_test)
